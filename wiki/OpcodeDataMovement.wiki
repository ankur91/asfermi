#summary Opcodes for the data movement instructions

Note: round brackets, instead of square brackets, are used to represent an optional component. This is to avoid confusion with memory operands which are surrounded by square brackets.

Also, [Opcode#imme immea] and [SourceFormat#Composite_operand composite operand] may be mentioned in the parts below. Please visit these two links for more information regarding their meaning.

=== Data Movement Instructions ===

==== MOV ====
Instruction usage:
{{{
MOV reg0, composite operand;
}}}
If a hex number is used as the second operand, it cannot be longer than 20 bits.
Template opcode:
{{{
0010 011110 1110 000000 000000 0000000000000000000000 0000000000 010100
                   reg0   reg1                  immea
}}}

----
==== LD ====
Instruction usage:
{{{
LD(.cop)(.type) reg0, [reg1(+0xabcd)];
}}}
Template opcode:
{{{
1010 000100 1110 000000 000000 00000000000000000000000000000000 000001
        mod        reg0   reg1                           0xabcd
}}}
||mod 0:1 || .cop ||
||00      ||default(.ca)||
||10      ||.CG   ||
||01      ||.CS   ||
||11      ||.CV   ||

||mod 2:4 || .type ||
||000     || .U8     ||
||100     || .S8     ||
||010     || .U16    ||
||110     || .S16    ||
||001     ||default(.u32)||
||101     ||.64     ||
||011     ||.128    ||

----
==== LDU ====
Load uniform. Same as ldu in ptx.

Instruction usage:
{{{
LDU(.type) reg0, [reg1(+0xabcd)];
}}}
Template opcode
{{{
1010 000100 1110 000000 000000 00000000000000000000000000000000 010001
        mod        reg0   reg1                           0xabcd
}}}
.type is the same as in LD

----
==== LDL ====
Load local memory. Same as ld.local in ptx

Instruction usage:
{{{
LDL(.cop)(.type) reg0, [reg1(+0xabcd)];
}}}
Template opcode
{{{
1010 000100 1110 000000 000000 00000000000000000000000000000000 000011
        mod        reg0   reg1                           0xabcd
}}}
.type is exactly the same as in LD. As for .cop, .CS is replaced with .LU instead.

----
==== LDS ====
Load shared memory. Same as ld.shared in ptx

Instruction usage:
{{{
LDS(.type) reg0, [reg1(+0xabcd)];
}}}
Note that 0xabcd should not be greater than 0xFFFF. However, for the sake of experimentation, 0xabcd can have a maximal length of 20 bits.

Template opcode
{{{
1010 000100 1110 000000 000000 0000000000000000 0000000000000010 000011
        mod        reg0   reg1           0xabcd
}}}
For various values of mod and their meaning please refer to the LD instruction above.

----
==== LDC ====
Load constant memory. Same as ld.const in ptx.

Instruction usage:
{{{
LDC(.type) reg0, c[0xa][0xbcde]
}}}
Template opcode
{{{
0110 000100 1110 000000 000000 0000000000000000 00000 00000000000 101000
        mod        reg0   reg1           0xbcde   0xa
}}}
.type is the same as in LD.

While it appears that 0xa could have a maximum of 0x1f, for now asfermi does not allow any value beyond 0xf. 0xbcde must less than 0x10000.

----
==== ST ====
Instruction usage:
{{{
ST(.cop)(.type) [reg1(+0xabcd)], reg0;
}}}
Template opcode:
{{{
1010 000100 1110 000000 000000 00000000000000000000000000000000 001001
        mod        reg0   reg1                           0xabcd
}}}
For various values of mod 2:4 (.type) and their meaning please refer to the LD instruction above.

||mod 0:1 || .cop ||
||00      ||default(.wb)||
||10      ||.CG   ||
||01      ||.CS   ||
||11      ||.WT   ||

----
==== STL ====
Store to local memory. Same as st.local in ptx.

Instruction usage:
{{{
STL(.cop)(.type) [reg1(+0xabcd)], reg0;
}}}
Template opcode
{{{
1010 000100 1110 000000 000000 00000000000000000000000000000000 010011
        mod        reg0   reg1                           0xabcd
}}}
the meaning of mod(.cop and .type) is exactly same as in ST.

----
==== STS ====
Store shared memory. Same as st.shared in ptx

Instruction usage:
{{{
STS(.type) [reg1(+0xabcd)], reg0;
}}}
Note: the same restriction that applies to LDS applies to STS as well.

Template opcode
{{{
1010 000100 1110 000000 000000 0000000000000000 0000000000000010 010011
        mod        reg0   reg1           0xabcd
}}}
For various values of mod and their meaning please refer to the LD instruction above.